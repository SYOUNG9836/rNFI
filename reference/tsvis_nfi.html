<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Visualize time series data for National Forest Inventory Data — tsvis_nfi • rNFI</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Visualize time series data for National Forest Inventory Data — tsvis_nfi"><meta name="description" content="tsvis_nfi() is a function that analyzes and visualizes data in a time series format. It can visualize 'biomass', 'cwd', and 'iv' data as 'table', 'line', 'bar', or 'map'.
Users need to select the specific biomass variable, such as volume or carbon, to visualize biomass.
For map visualization of biomass, users must choose the administrative unit level.
It uses the iv_nfi and biomass_nfi and cwd_biomass_nfi function for core calculations."><meta property="og:description" content="tsvis_nfi() is a function that analyzes and visualizes data in a time series format. It can visualize 'biomass', 'cwd', and 'iv' data as 'table', 'line', 'bar', or 'map'.
Users need to select the specific biomass variable, such as volume or carbon, to visualize biomass.
For map visualization of biomass, users must choose the administrative unit level.
It uses the iv_nfi and biomass_nfi and cwd_biomass_nfi function for core calculations."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rNFI</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rNFI.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SYOUNG9836/rNFI/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Visualize time series data for National Forest Inventory Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/SYOUNG9836/rNFI/blob/main/R/tsvis_nfi.R" class="external-link"><code>R/tsvis_nfi.R</code></a></small>
      <div class="d-none name"><code>tsvis_nfi.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>tsvis_nfi() is a function that analyzes and visualizes data in a time series format. It can visualize 'biomass', 'cwd', and 'iv' data as 'table', 'line', 'bar', or 'map'.
Users need to select the specific biomass variable, such as volume or carbon, to visualize biomass.
For map visualization of biomass, users must choose the administrative unit level.
It uses the <code><a href="iv_nfi.html">iv_nfi</a></code> and <code><a href="biomass_nfi.html">biomass_nfi</a></code> and <code><a href="cwd_biomass_nfi.html">cwd_biomass_nfi</a></code> function for core calculations.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tsvis_nfi</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  y <span class="op">=</span> <span class="st">"biomass"</span>,</span>
<span>  bm_type <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  output <span class="op">=</span> <span class="st">"line"</span>,</span>
<span>  plotgrp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  isannual <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  admin <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  strat <span class="op">=</span> <span class="st">"FORTYP_SUB"</span>,</span>
<span>  clusterplot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  largetreearea <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  stockedland <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  talltree <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  sp <span class="op">=</span> <span class="st">"SP"</span>,</span>
<span>  frequency <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>: A <code>list</code> generated by <code><a href="read_nfi.html">read_nfi</a></code> that contains 'plot' and 'tree' data frames.</p></dd>


<dt id="arg-y">y<a class="anchor" aria-label="anchor" href="#arg-y"></a></dt>
<dd><p>: A character vector; the variable to visualize. Must be one of 'biomass', 'cwd', 'iv'.</p></dd>


<dt id="arg-bm-type">bm_type<a class="anchor" aria-label="anchor" href="#arg-bm-type"></a></dt>
<dd><p>: A character vector; the specific variable to visualize for 'biomass' or 'cwd'. Must be one of 'volume', 'biomass', 'AG_biomass', 'carbon', 'co2'.</p></dd>


<dt id="arg-output">output<a class="anchor" aria-label="anchor" href="#arg-output"></a></dt>
<dd><p>: A character vector; the desired type of visualization. Must be one of 'table', 'line', 'bar', 'map'.</p></dd>


<dt id="arg-plotgrp">plotgrp<a class="anchor" aria-label="anchor" href="#arg-plotgrp"></a></dt>
<dd><p>: A character vector; specifies variables from the 'plot' table to use for grouping. Use <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> to combine multiple variables, but if the output is a map, line or bar plot, only one variable can be used.</p></dd>


<dt id="arg-isannual">isannual<a class="anchor" aria-label="anchor" href="#arg-isannual"></a></dt>
<dd><p>: A logical flag (default TRUE); if TRUE, the result is provided annually, if FALSE, it is provided in 5-year intervals.</p></dd>


<dt id="arg-admin">admin<a class="anchor" aria-label="anchor" href="#arg-admin"></a></dt>
<dd><p>: A character vector; the administrative unit for visualizing 'biomass' or 'cwd' as a map. Must be one of 'sido', 'sgg', 'emg'.</p></dd>


<dt id="arg-strat">strat<a class="anchor" aria-label="anchor" href="#arg-strat"></a></dt>
<dd><p>: A character vector; the variable used for post-stratification. In the National Forest Inventory of Korea, it is typically used by forest type.</p></dd>


<dt id="arg-clusterplot">clusterplot<a class="anchor" aria-label="anchor" href="#arg-clusterplot"></a></dt>
<dd><p>: A logical flag (default FALSE); if TRUE, treats each cluster plot as a single unit. If FALSE, calculates for each subplot separately.</p></dd>


<dt id="arg-largetreearea">largetreearea<a class="anchor" aria-label="anchor" href="#arg-largetreearea"></a></dt>
<dd><p>: A logical flag (default FALSE); if TRUE, includes large tree survey plots in the analysis. If FALSE, only uses standard tree plots.</p></dd>


<dt id="arg-stockedland">stockedland<a class="anchor" aria-label="anchor" href="#arg-stockedland"></a></dt>
<dd><p>: A logical flag (default TRUE); if TRUE, includes only stocked land. If FALSE, includes all land types.</p></dd>


<dt id="arg-talltree">talltree<a class="anchor" aria-label="anchor" href="#arg-talltree"></a></dt>
<dd><p>: A logical flag (default TRUE); if TRUE, includes only tall trees. If FALSE, includes both trees and shrubs.</p></dd>


<dt id="arg-sp">sp<a class="anchor" aria-label="anchor" href="#arg-sp"></a></dt>
<dd><p>: A character vector; the column name of species information (e.g., "SP" for species, "GENUS" for genus-level analysis).</p></dd>


<dt id="arg-frequency">frequency<a class="anchor" aria-label="anchor" href="#arg-frequency"></a></dt>
<dd><p>: A logical flag (default TRUE); if TRUE, includes frequency in importance value calculations.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>If the output is a map, line, or bar plot: an object of class <span class="pkg">ggplot</span>.
If the output is a table: a <code>data.frame</code>.</p>
    </div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>To visualize data as a map, you need to agree to install the <code>kadmin</code> package during the function execution or install it in advance.
The <code>kadmin</code> package loads shapefiles for Korea's Si, Do or Si, Gun, Gu or Eup, Myeon, Dong.
Use <code>drat::addRepo("SYOUNG9836") install.packages("kadmin")</code> or <code>remotes::install_github("SYOUNG9836/kadmin")</code></p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="iv_nfi.html">iv_nfi</a></code> for calculating the importance values.
<code><a href="biomass_nfi.html">biomass_nfi</a></code> for calculating the biomass.
<code><a href="cwd_biomass_nfi.html">cwd_biomass_nfi</a></code> for calculating the biomass of Coarse Woody Debris.</p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"nfi_sejong"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Visualize importance values as a table</span></span></span>
<span class="r-in"><span><span class="va">tsvis_iv</span> <span class="op">&lt;-</span> <span class="fu">tsvis_nfi</span><span class="op">(</span><span class="va">nfi_sejong</span>, y <span class="op">=</span> <span class="st">"iv"</span>, output <span class="op">=</span> <span class="st">"table"</span><span class="op">)</span></span></span>
<span class="r-wrn co"><span class="r-pr">#&gt;</span> <span class="warning">Warning: </span>Missing years:2010Missing years:2011Missing years:2012Missing years:2015Missing years:2016Missing years:2017</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a bar plot of importance values at 5-year intervals</span></span></span>
<span class="r-in"><span><span class="va">tsvis_iv_bar</span> <span class="op">&lt;-</span> <span class="fu">tsvis_nfi</span><span class="op">(</span><span class="va">nfi_sejong</span>, y <span class="op">=</span> <span class="st">"iv"</span>, output <span class="op">=</span> <span class="st">"bar"</span>, isannual <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Generate a line plot of carbon biomass over time, grouped by age class</span></span></span>
<span class="r-in"><span><span class="va">tsvis_bm_line</span> <span class="op">&lt;-</span> <span class="fu">tsvis_nfi</span><span class="op">(</span><span class="va">nfi_sejong</span>, y <span class="op">=</span> <span class="st">"biomass"</span>, </span></span>
<span class="r-in"><span>                            bm_type <span class="op">=</span> <span class="st">"carbon"</span>, output <span class="op">=</span> <span class="st">"line"</span>, plotgrp <span class="op">=</span> <span class="st">"AGE_CLS"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Create a map of volume at the sido level</span></span></span>
<span class="r-in"><span><span class="va">tsvis_bm_map</span> <span class="op">&lt;-</span> <span class="fu">tsvis_nfi</span><span class="op">(</span><span class="va">nfi_sejong</span>, admin <span class="op">=</span> <span class="st">"sido"</span>, </span></span>
<span class="r-in"><span>                           y <span class="op">=</span> <span class="st">"biomass"</span>, bm_type <span class="op">=</span> <span class="st">"volume"</span>, output <span class="op">=</span> <span class="st">"map"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sinyoung Park, Wonhee Cho, Inyoo Kim, First Last, Dongwook W. Ko.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

