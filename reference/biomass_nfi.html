<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate Tree Biomass for National Forest Inventory Data — biomass_nfi • rNFI</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate Tree Biomass for National Forest Inventory Data — biomass_nfi"><meta name="description" content="biomass_nfi() is a function that estimates volume, aboveground biomass, biomass, carbon storage and carbon dioxide storage.
It can provide summaries for individual plots, the entire study area, or specific groups within the study area using parameters byplot, plotgrp and treegrp.
When calculating biomass at the individual trees and plots level, Users have flexibility in specifying data inclusion criteria and analysis levels using parameters clusterplot, largetreearea, stockedland, and talltree.
These parameters determine whether to treat cluster plots as single plots, to include large tree survey plots, and to focus only on Stocked land and tall trees.
Users can also choose the criteria for post-stratification using the strat parameter."><meta property="og:description" content="biomass_nfi() is a function that estimates volume, aboveground biomass, biomass, carbon storage and carbon dioxide storage.
It can provide summaries for individual plots, the entire study area, or specific groups within the study area using parameters byplot, plotgrp and treegrp.
When calculating biomass at the individual trees and plots level, Users have flexibility in specifying data inclusion criteria and analysis levels using parameters clusterplot, largetreearea, stockedland, and talltree.
These parameters determine whether to treat cluster plots as single plots, to include large tree survey plots, and to focus only on Stocked land and tall trees.
Users can also choose the criteria for post-stratification using the strat parameter."></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">rNFI</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/rNFI.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SYOUNG9836/rNFI/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Calculate Tree Biomass for National Forest Inventory Data</h1>
      <small class="dont-index">Source: <a href="https://github.com/SYOUNG9836/rNFI/blob/main/R/biomass_nfi.R" class="external-link"><code>R/biomass_nfi.R</code></a></small>
      <div class="d-none name"><code>biomass_nfi.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>biomass_nfi() is a function that estimates volume, aboveground biomass, biomass, carbon storage and carbon dioxide storage.
It can provide summaries for individual plots, the entire study area, or specific groups within the study area using parameters <code>byplot</code>, <code>plotgrp</code> and <code>treegrp</code>.
When calculating biomass at the individual trees and plots level, Users have flexibility in specifying data inclusion criteria and analysis levels using parameters <code>clusterplot</code>, <code>largetreearea</code>, <code>stockedland</code>, and <code>talltree</code>.
These parameters determine whether to treat cluster plots as single plots, to include large tree survey plots, and to focus only on Stocked land and tall trees.
Users can also choose the criteria for post-stratification using the <code>strat</code> parameter.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">biomass_nfi</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  byplot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  plotgrp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  treegrp <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  strat <span class="op">=</span> <span class="st">"FORTYP_SUB"</span>,</span>
<span>  clusterplot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  largetreearea <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  stockedland <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  talltree <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>: A <code>list</code> generated by <code><a href="read_nfi.html">read_nfi</a></code> that contains 'plot' and 'tree' data frames.</p></dd>


<dt id="arg-byplot">byplot<a class="anchor" aria-label="anchor" href="#arg-byplot"></a></dt>
<dd><p>: A logical flag (default FALSE); if TRUE, calculates statistics for each plot separately. If FALSE, calculates for the entire dataset or groups specified by <code>plotgrp</code> and <code>treegrp</code>.</p></dd>


<dt id="arg-plotgrp">plotgrp<a class="anchor" aria-label="anchor" href="#arg-plotgrp"></a></dt>
<dd><p>: A character vector; variables from 'plot' tables for grouping. Use <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> to combine multiple variables.</p></dd>


<dt id="arg-treegrp">treegrp<a class="anchor" aria-label="anchor" href="#arg-treegrp"></a></dt>
<dd><p>: A character vector; variables from 'tree' tables for grouping. Use <code><a href="https://rdrr.io/r/base/c.html" class="external-link">c()</a></code> to combine multiple variables.</p></dd>


<dt id="arg-strat">strat<a class="anchor" aria-label="anchor" href="#arg-strat"></a></dt>
<dd><p>: A character vector; the variable used for post-stratification. In the National Forest Inventory of Korea, it is typically used by forest type.</p></dd>


<dt id="arg-clusterplot">clusterplot<a class="anchor" aria-label="anchor" href="#arg-clusterplot"></a></dt>
<dd><p>: A logical flag (default FALSE); if TRUE, treats each cluster plot as a single unit. If FALSE, calculates for each subplot separately.</p></dd>


<dt id="arg-largetreearea">largetreearea<a class="anchor" aria-label="anchor" href="#arg-largetreearea"></a></dt>
<dd><p>: A logical flag (default TRUE); if TRUE, includes large tree survey plots in the analysis. If FALSE, only uses standard tree plots.</p></dd>


<dt id="arg-stockedland">stockedland<a class="anchor" aria-label="anchor" href="#arg-stockedland"></a></dt>
<dd><p>: A logical flag (default TRUE); if TRUE, includes only stocked land. If FALSE, includes all land types.</p></dd>


<dt id="arg-talltree">talltree<a class="anchor" aria-label="anchor" href="#arg-talltree"></a></dt>
<dd><p>: A logical flag (default TRUE); if TRUE, includes only tall trees. If FALSE, includes both trees and shrubs.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <code>data.frame</code> that includes biomass estimates.
The structure depends on the input parameters:</p><ul><li><p>If <code>byplot = TRUE</code>, each row represents a plot.</p></li>
<li><p>If <code>byplot = FALSE</code>, each row represents the entire dataset or a group specified by <code>plotgrp</code> and <code>treegrp</code></p></li>
</ul></div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>This function calculates biomass using methodologies employed for national statistics (mean, variance, standard error, relative standard error):</p><ul><li><p>Applies national carbon emission factors to calculate biomass at the individual tree level.</p></li>
<li><p>Estimates biomass per hectare at the cluster or subplot level, with options to include only basic survey trees or both basic and large tree survey trees.</p></li>
<li><p>Uses the Double Sampling for Post-stratification (DSS) method to derive annual statistics.</p></li>
<li><p>Applies the Weighted Moving Average (WMA) method to integrate annual statistics from the 20% of plots surveyed each year into a single time point.</p></li>
</ul></div>
    <div class="section level2">
    <h2 id="note">Note<a class="anchor" aria-label="anchor" href="#note"></a></h2>
    <p>Biomass calculation involves dividing the data into groups based on <code>plotgrp</code> and then applying post-stratification to each group.
As a result, if the data for each group is not sufficiently large, the relative standard error (RSE) may be high.
It is important to check the RSE and other statistical measures in the biomass results.</p>
    </div>
    <div class="section level2">
    <h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a></h2>
    <p>Son, Y., Kim, R., Lee, K., Pyo, J., Kim, S., Hwang, J., Lee, S., &amp; Park, H. (2014). Carbon emission factors and biomass allometric equations by species in Korea. Korea Forest Research Institute.
Yim, J., Moon, G., Lee, M., Kang, J., Won, M., Ahn, E., &amp; Jeon, J. (2021). 2020 Forest inventory of Korea. Korea Forest Research Institute.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"nfi_sejong"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Basic usage</span></span></span>
<span class="r-in"><span><span class="va">biomass</span> <span class="op">&lt;-</span> <span class="fu">biomass_nfi</span><span class="op">(</span><span class="va">nfi_sejong</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span> <span class="co"># \dontrun{</span></span></span>
<span class="r-in"><span><span class="co"># Calculate biomass by administrative district</span></span></span>
<span class="r-in"><span><span class="va">district_biomass</span> <span class="op">&lt;-</span> <span class="fu">biomass_nfi</span><span class="op">(</span><span class="va">nfi_sejong</span>, plotgrp <span class="op">=</span> <span class="st">"SGG"</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># Calculate biomass for each plot</span></span></span>
<span class="r-in"><span><span class="va">plot_biomass</span> <span class="op">&lt;-</span> <span class="fu">biomass_nfi</span><span class="op">(</span><span class="va">nfi_sejong</span>, byplot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">}</span> <span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sinyoung Park, Wonhee Cho, Inyoo Kim, First Last, Dongwook W. Ko.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer></div>





  </body></html>

